<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<div class="background">
    <div class="container">
      <div class="screen">
        <div class="screen-body">
          <div class="screen-body-item left">
            <div class="app-title">
              <span>Angular</span>
              <span>Form</span>
            </div>
        
          </div>
          <div class="screen-body-item">
            <div class="app-form">
                <form [formGroup]="profileForm"  >
                      <div class="app-form-group">
                          <input [ngClass]="{ 'is-invalid':  f['firstName'].errors && (f['firstName'].touched || f['firstName'].dirty) }" class="app-form-control form-control" name="first" id="first-name" type="text" for="first-name" placeholder="First Name" value="Krisantus" formControlName="firstName">
                              @if ( f['firstName'].errors) {
                                  <div class="invalid-feedback">
                                    @if (f['firstName'].errors['required'] && (f['firstName'].touched || f['firstName'].dirty) ) {
                                    <div>First Name is required</div>
                                    }
                                    @if (f['firstName'].errors['minlength']) {
                                    <div>First Name must be at least 4 characters</div>
                                    }
                                    @if (f['firstName'].errors['maxlength']) {
                                    <div>First Name must not exceed 20 characters</div>
                                    }
                                  </div>
                                  }
                      </div>
                    <div class="app-form-group">
                        <input [ngClass]="{ 'is-invalid':  f['lastName'].errors && (f['lastName'].touched || f['lastName'].dirty)}"  class="app-form-control form-control" id="last-name" type="text" for="last-name" placeholder="Last Name" value="Wanandi" formControlName="lastName">
                        @if ( f['lastName'].errors) {
                            <div class="invalid-feedback">
                              @if (f['lastName'].errors['required'] && (f['lastName'].touched || f['lastName'].dirty) ) {
                              <div>Last Name is required</div>
                              }
                              @if (f['lastName'].errors['minlength']) {
                              <div>Last Name must be at least 4 characters</div>
                              }
                              @if (f['lastName'].errors['maxlength']) {
                              <div>Last Name must not exceed 20 characters</div>
                              }
                            </div>
                            }
                    </div>
                    <div class="app-form-group">
                      <input [ngClass]="{ 'is-invalid':  f['email'].errors && (f['email'].touched || f['email'].dirty)}" class="app-form-control form-control" name="email" id="email" type="email" for="email" placeholder="Email Id" value="example@gmail.com" formControlName="email">
                      @if ( f['email'].errors) {
                        <div class="invalid-feedback">
                          @if (f['email'].errors['required'] && (f['email'].touched || f['email'].dirty)) {
                          <div>Email is required</div>
                          }
                      @if (f['email'].errors['email']) {
                          <div>Email is invalid</div>
                          }
                        </div>
                        }
                  </div>
                  <div class="app-form-group">
                    <input [ngClass]="{ 'is-invalid':  f['password'].errors && (f['password'].touched || f['password'].dirty) }" class="app-form-control form-control" name="password" id="password" type="password" for="password" placeholder="Password" formControlName="password">
                    @if ( f['password'].errors) {
                      <div class="invalid-feedback">
                        @if (f['password'].errors['required'] && (f['password'].touched || f['password'].dirty)) {
                        <div>Password is required</div>
                        }
                    @if (f['password'].errors['minlength']) {
                        <div>Password must be at least 6 characters</div>
                        }
                    @if (f['password'].errors['maxlength']) {
                        <div>Username must not exceed 40 characters</div>
                        }
                      </div>
                      }
                </div>
                <div class="app-form-group">
                  <input [ngClass]="{ 'is-invalid':  f['confirmPassword'].errors  && (f['confirmPassword'].touched || f['confirmPassword'].dirty)}" class="app-form-control form-control" name="confirmPassword" id="confirmPassword" type="password" for="confirmPassword" placeholder="Confirm Password" formControlName="confirmPassword">
                  @if ( f['confirmPassword'].errors) {
                    <div class="invalid-feedback">
                      @if (f['confirmPassword'].errors['required']  && (f['confirmPassword'].touched || f['confirmPassword'].dirty)) {
                      <div>Confirm Password is required</div>
                      }
                  @if (f['confirmPassword'].errors['matching']) {
                      <div>Confirm Password does not match</div>
                      }
                    </div>
                    }
              </div>
                        <div class="app-form-group">
                            <input [ngClass]="{ 'is-invalid':  f['street'].errors  && (f['street'].touched || f['street'].dirty)}" class="app-form-control  form-control" for="street" id="street" type="text" formControlName="street" placeholder="Street">
                            @if ( f['street'].errors) {
                                <div class="invalid-feedback">
                                  @if (f['street'].errors['required']  && (f['street'].touched || f['street'].dirty)) {
                                  <div>Street is required</div>
                                  }
                                </div>
                                }
                        </div>
                        <div class="app-form-group">
                            <!-- <input [ngClass]="{ 'is-invalid':  f['city'].errors   && (f['city'].touched || f['city'].dirty)}" class="app-form-control form-control" placeholder="City" for="city" id="city" type="text" formControlName="city"> -->
                              <select (selectionChange)="onChange($event)" [ngClass]="{ 'is-invalid':  f['city'].errors   && (f['city'].touched || f['city'].dirty)}" class="app-form-control form-control" placeholder="City" for="city" id="city" type="text" formControlName="city">
                                <option value=0>Select</option>
                                <option *ngFor="let cities of city" [value]="city">{{city}}</option>
                              </select>
                            @if ( f['city'].errors) {
                                <div class="invalid-feedback">
                                  @if (f['city'].errors['required']  && (f['city'].touched || f['city'].dirty)) {
                                  <div>City is required</div>
                                  }
                                </div>
                                }
                        </div>
                          
                        <div class="app-form-group">
                            <input [ngClass]="{ 'is-invalid':  f['state'].errors   && (f['state'].touched || f['state'].dirty)}" class="app-form-control form-control" for="state" id="state" type="text" formControlName="state" placeholder="State">
                            @if ( f['state'].errors) {
                                <div class="invalid-feedback">
                                  @if (f['state'].errors['required']  && (f['state'].touched || f['state'].dirty)) {
                                  <div>State is required</div>
                                  }
                                </div>
                                }
                        </div>
                        <div class="app-form-group">
                            <input [ngClass]="{ 'is-invalid':  f['zip'].errors   && (f['zip'].touched || f['zip'].dirty) }" class="app-form-control form-control" placeholder="Zip Code" for="zip" id="zip" type="number" formControlName="zip">
                            @if ( f['zip'].errors) {
                                <div class="invalid-feedback">
                                  @if (f['zip'].errors['required']  && (f['zip'].touched || f['zip'].dirty)) {
                                  <div>Zip is required</div>
                                  }
                                </div>
                                }
                        </div>
                        <div class="app-form-group buttons">
                          <div formArrayName="Address">
                            <div *ngFor="let ad of Address.controls; let i=index">
                              <div [formGroupName]="i" >                               
                                <button  class="btn float-right" (click)="removeAddr(i)">Remove</button>
                                <input type="text" formControlName="line1" class="app-form-control  form-control" placeholder="Address Line {{i+1}}">                        
                              </div>
                            </div>
                          </div>
                        </div>
                        <p>
                          <button type="button"class="btn  float-left" (click)="addAddr()">Add Address</button>
                        </p>

                    <div class="app-form-group buttons">
                        <button type="submit" class="btn float-right" (ngSubmit)="onSubmitAddr()" (ngSubmit)="onSubmit()">Register</button> 
                        <!-- <button class="app-form-button" (ngSubmit)="onSubmit()">SEND</button> -->
                        <button type="submit" (click)="onReset()" class="btn float-left ">Reset</button>
                    </div>
                </form>
            </div>
          </div>
        </div>      
      </div>
      <br>
      <div class="container">
        <div class="screen">
          <div class="screen-body">
            <div class="screen-body-item left">
              <div class="app-title "><span>Submitted</span><span>Data</span></div>
            </div>
            <div class="screen-body-item app-form-group">
              <div *ngIf="submittedData.length > 0">
                <table class="table table-striped table-dark">
                  <thead>
                    <tr>
                      <th  scope="col" *ngFor="let field of submittedData[0]">{{ field.label }}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let submission of submittedData">
                      <td *ngFor="let field of submission">{{ field.value }}</td>
                    </tr>                  
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
  
